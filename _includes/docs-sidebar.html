{% assign current = page.url | downcase | split: '/' %}
{% assign currentSubPage = current[2] %}


<section>
    <a {% if currentSubPage == null %}class='active'{% endif %} href="/documentation/" >
        Overview
    </a>
    <ul class="nav nav-stacked list-unstyled {% if page.submenu != 'introduction' %} hidden {% endif %}">
        <li><a href="#what-is-javers">What is JaVers</a></li>
        <li><a href="#story">Story</a></li>
        <li><a href="#basic-facts-about-javers">Basic facts about JaVers</a></li>
        <li><a href="#licence">Licence</a></li>
    </ul>
</section>

<section>
    <a {% if currentSubPage == 'getting-started' %}class='active'{% endif %} href="/documentation/getting-started">
            Getting Started
    </a>
    <ul class="nav nav-stacked list-unstyled {% if page.submenu != 'getting-started' %} hidden {% endif %}">
        <li><a href="#get-javers">Get JaVers</a></li>
        <li><a href="#create-javers-instance">Create JaVers instance</a></li>
        <li class="nested"><a href="#getting-started-diff">Object diff</a></li>
        <li class="nested"><a href="#getting-started-audit">Object audit</a></li>
    </ul>
</section>

<section>
    <a {% if currentSubPage == 'diff-examples' %}class='active'{% endif %} href="/documentation/diff-examples">
            Examples &mdash; Diff
    </a>
    <ul class="nav nav-stacked list-unstyled {% if page.submenu != 'diff-examples' %} hidden {% endif %}">
        <li><a href="#compare-entities">Compare Entities</a></li>
        <li><a href="#compare-graphs">Compare graphs</a></li>
        <li><a href="#compare-valueobjects">Compare top-level Value Objects</a></li>
        <li><a href="#compare-collections">Compare top-level collections</a></li>
        <li><a href="#groovy-diff-example">Groovy diff example</a></li>
        <li><a href="#custom-value-comparator-example">Custom Value comparator</a></li>
        <li><a href="#custom-property-comparator-example">Custom Property comparator</a></li>
    </ul>
</section>

<section>
    <a {% if currentSubPage == 'repository-examples' %}class='active'{% endif %} href="/documentation/repository-examples">
            Examples &mdash; Repository
    </a>
    <ul class="nav nav-stacked list-unstyled {% if page.submenu != 'repository-examples' %} hidden {% endif %}">
        <li><a href="#commit-changes">Commit and query</a></li>
        <li><a href="#change-log">Changelog</a></li>
    </ul>
</section>

<section>
    <a {% if currentSubPage == 'jql-examples' %}class='active'{% endif %} href="/documentation/jql-examples">
    Examples &mdash; JQL
    </a>
    <ul class="nav nav-stacked list-unstyled {% if page.submenu != 'jql-examples' %} hidden {% endif %}">
        <li><a href="#find-methods">Find methods:</a></li>
        <li class="nested">
            <a href="#query-for-shadows">Shadows</a>,
            <a href="#query-for-changes">Changes</a>,
            <a href="#query-for-snapshots">Snapshots</a>
        </li>

        <li><a href="#query-types">Query types:</a></li>
        <li class="nested">
            <a href="#instance-id-query">Entity</a>,
            <a href="#by-value-object-query">ValueObject</a>,
            <a href="#by-class-query">Class</a>,
            <a href="#any-domain-object-query">any object</a>
        </li>

        <li><a href="#query-filters">Query filters:</a></li>
        <li class="nested">
            <a href="#property-filter">Changed Property</a>,
            <a href="#limit-filter">Limit</a>,
            <a href="#skip-filter">Skip</a>
        </li>
        <li class="nested">
            <a href="#author-filter">Commit: Author</a>,
            <a href="#commit-property-filter">Property</a>,
            <a href="#commit-date-filter">Date</a>,
            <a href="#commit-id-filter">Id</a>
        </li>
        <li class="nested"><a href="#version-filter">Snapshot version</a></li>
        <li class="nested"><a href="#child-value-objects-filter">ChildValueObjects</a></li>
        <li class="nested"><a href="#initial-changes-filter">Initial Changes</a></li>

        <li><a href="#entity-refactoring">Refactoring Entities with @TypeName</a></li>
        <li><a href="#value-object-refactoring">Free ValueObjects refactoring</a></li>
    </ul>

</section>

<section>
    <a {% if currentSubPage == 'domain-configuration' %}class='active'{% endif %}
       href="/documentation/domain-configuration">Configuration &mdash; Domain</a>
    <ul class="nav nav-stacked list-unstyled {% if page.submenu != 'domain-configuration' %} hidden {% endif %}">
        <li><a href="#domain-model-mapping">Domain model mapping</a></li>
        <li class="nested"><a href="#entity">Entity</a></li>
        <li class="nested"><a href="#entity-id">Entity ID</a></li>
        <li class="nested"><a href="#value-object">Value Object</a></li>
        <li class="nested"><a href="#ValueType">Value</a></li>
        <li><a href="#mapping-configuration">Mapping configuration</a></li>
        <li><a href="#supported-annotations">Supported annotations</a></li>
        <li><a href="#entity-mapping-example">Mapping example</a></li>
        <li><a href="#property-mapping-style">Property mapping style</a></li>
        <li><a href="#ignoring-things">Ignoring things</a></li>
        <li><a href="#hooks">Object hooks</a></li>
    </ul>
</section>

<section>
    <a {% if currentSubPage == 'repository-configuration' %}class='active'{% endif %}
       href="/documentation/repository-configuration">Configuration &mdash; Repository</a>
    <ul class="nav nav-stacked list-unstyled {% if page.submenu != 'repository-configuration' %} hidden {% endif %}">
        <li><a href="#choose-javers-repository">Choose JaversRepository</a></li>
        <li><a href="#redis-db">Redis</a></li>
        <li><a href="#mongodb-configuration">MongoDB</a></li>
        <li><a href="#sql-databases">SQL databases</a></li>
        <li><a href="#connection-provider">&nbsp; &nbsp;ConnectionProvider</a></li>
        <li><a href="#custom-json-serialization">Custom JSON serialization</a>
        <li><a href="#json-type-adapters">&nbsp; &nbsp;JSON TypeAdapters</a>
        <li><a href="#json-type-adapter-example">&nbsp; &nbsp;JSON TypeAdapter Example</a>
    </ul>
</section>

<section>
    <a {% if currentSubPage == 'diff-configuration' %}class='active'{% endif %}
    href="/documentation/diff-configuration">Configuration &mdash; Diff</a>
    <ul class="nav nav-stacked list-unstyled {% if page.submenu != 'diff-configuration' %} hidden {% endif %}">
        <li><a href="#list-algorithms">List comparing algorithms</a></li>
        <li><a href="#simple-vs-levenshtein">&nbsp; &nbsp;Simple vs Levenshtein algorithm</a></li>
        <li><a href="#more-about-levenshtein">&nbsp; &nbsp;More about Levenshtein distance</a></li>
        <li><a href="#custom-comparators">Custom comparators</a></li>
        <li><a href="#custom-value-comparators">&nbsp; &nbsp;Custom Value comparators</a></li>
        <li><a href="#custom-property-comparators">&nbsp; &nbsp;Custom Property comparators</a></li>
    </ul>
</section>

<section>
    <a {% if currentSubPage == 'spring-integration' %}class='active'{% endif %} href="/documentation/spring-integration">
    Spring integration</a>
    <ul class="nav nav-stacked list-unstyled {% if page.submenu != 'spring-integration' %} hidden {% endif %}">
        <li><a href="#javers-instance-as-spring-bean">JaVers instance as a Spring bean</a></li>
        <li><a href="#auto-audit-aspect">Auto-audit aspects</a></li>

        <li class="nested"><a href="#javers-spring-annotations">Annotations</a></li>
        <li class="nested"><a href="#auto-audit-aspects-spring-configuration">Spring Configuration</a></li>

        <li><a href="#jpa-entity-manager-integration">JPA EntityManager integration</a></li>
        <li class="nested"><a href="#spring-configuration-for-transactional-javers">Spring configuration for JPA</a></li>
        <li class="nested"><a href="#hibernate-unproxy-hook">Hibernate unproxy hook</a></li>
        <li><a href="#spring-jpa-example">Configuration example for JPA</a></li>
        <li><a href="#mongo-transactions">MongoDB transactions support</a></li>
        <li><a href="#auto-audit-example-mongo">Configuration example for MongoDB</a></li>

    </ul>
</section>

<section>
    <a {% if currentSubPage == 'spring-boot-integration' %}class='active'{% endif %} href="/documentation/spring-boot-integration">
    Spring Boot integration</a>
    <ul class="nav nav-stacked list-unstyled {% if page.submenu != 'spring-boot-integration' %} hidden {% endif %}">
        <li><a href="#get-javers-starters">Get a Javers starter</a></li>

        <li><a href="#starters-auto-configuration">Spring Boot Auto-configuration</a></li>
        <li><a href="#customizing-auto-configuration">Customizing the Auto-configuration</a></li>

        <li><a href="#javers-configuration-properties">&nbsp; &nbsp; Javers Core configuration</a></li>
        <li><a href="#AuthorProvider-and-CommitPropertiesProvider">&nbsp; &nbsp; AuthorProvider, CommitPropertiesProvider</a></li>

        <li><a href="#Javers-SQL-Repository">&nbsp; &nbsp; SQL Repository</a></li>
        <li><a href="#Javers-MongoDB-Repository">&nbsp; &nbsp; MongoDB Repository</a></li>
        <li><a href="#Javers-Redis-Repository">&nbsp; &nbsp; Redis Repository</a></li>

        <li><a href="#registering-json-type-adapters">&nbsp; &nbsp; Registering JSON TypeAdapters</a>

        <li><a href="#starter-boot">Boot it!</a></li>
        <li><a href="#boot-Auto-audit">&nbsp; &nbsp;Auto-audit annotations</a></li>
        <li><a href="#boot-manual-commits">&nbsp; &nbsp;Manual commits</a></li>
        <li><a href="#boot-querying">&nbsp; &nbsp;Querying JaversRepository</a></li>
        <li><a href="#starter-demo-app">Demo application</a></li>
    </ul>

</section>
